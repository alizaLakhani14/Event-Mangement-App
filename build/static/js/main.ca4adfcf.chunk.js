(this["webpackJsonpevent-management-app"]=this["webpackJsonpevent-management-app"]||[]).push([[0],{333:function(e,t,n){},376:function(e,t,n){},378:function(e,t,n){},382:function(e,t,n){},573:function(e,t,n){},615:function(e,t,n){},621:function(e,t,n){},625:function(e,t,n){},627:function(e,t,n){},647:function(e,t,n){},658:function(e,t,n){},693:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(2),s=n(0),c=n.n(s),i=n(8),o=n.n(i),l=(n(376),n(164)),d=n(165),j=n(175),u=n(171),m=(n(377),n(378),n(695)),b=n(702),h=n(18),p=n(697),O=(n(382),n(43)),x=n(24),v=Object(h.b)((function(e){return{events:e.firestore.ordered.Events,name:e.firebase.profile.name}}))((function(e){console.log(e),Object(O.useFirestoreConnect)([{collection:"Events"}]);var t=e.events&&e.events.map((function(e){return Object(r.jsxs)(p.a,{className:"ant-card",size:"default",children:[Object(r.jsx)("img",{src:e.images[0],alt:"img",className:"event-img"}),Object(r.jsxs)("div",{className:"details",children:[Object(r.jsx)("h1",{className:"event-heading",children:e.name}),Object(r.jsx)("p",{children:e.description}),Object(r.jsx)(x.b,{to:"event/".concat(e.id),children:Object(r.jsx)("button",{className:"view-more",children:"View More"})})]})]},e.id)}));return Object(r.jsx)("div",{className:"eventList",children:t})})),f=n(85),g=(n(573),n(46)),y=n.n(g),N=n(84),E=n(66),w=n.n(E),C=function(e,t){return console.log("incoming files",e),function(){var n=Object(N.a)(y.a.mark((function n(a,r,s){var c,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"LOADING",payload:!0}),c=s(),n.next=5,R(e,t,c,a);case 5:return i=n.sent,console.log(i),a({type:"UPLOAD_COMPLETE",payload:i}),a({type:"LOADING",payload:!1}),n.abrupt("return",Promise.resolve(i));case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",Promise.resolve(!1));case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t,a){return n.apply(this,arguments)}}()},R=function(e,t,n,a){return new Promise((function(r,s){var c=[];try{for(var i=function(i){var o=e[i],l=n.storage().ref("images/".concat(t,"/").concat(o.name)).put(o.originFileObj);l.on("state_changed",(function(e){console.log(e),a({type:"PROGRESS",payload:"progressing"})}),(function(e){console.log(e),s(e)}),Object(N.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.snapshot.ref.getDownloadURL();case 2:n=t.sent,console.log(n),c.push(n),c.length===e.length&&(console.log({imageUrls:c}),r(c));case 6:case"end":return t.stop()}}),t)}))))},o=0;o<e.length;o++)i(o)}catch(l){s(l)}}))},S=n(701),I=n(700),A=n(10),D=n(20),F=Object(h.b)((function(e){return{uid:e.firebase.auth.uid,events:e.firestore.ordered.Events,name:e.firebase.profile.name}}),(function(e){return{signOut:function(){e((function(e,t,n){n().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})})).catch((function(t){e({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){e({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}))}}}))((function(e){var t=c.a.useState(!1),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(D.f)(),o=Object(r.jsxs)(S.a,{children:[Object(r.jsx)(S.a.Item,{children:Object(r.jsx)(x.b,{to:"/createEvent",children:"Create Event"})},"0"),Object(r.jsx)(S.a.Divider,{}),Object(r.jsx)(S.a.Item,{onClick:function(){i.push("/homePage"),e.signOut()},children:"Sign Out"},"1"),Object(r.jsx)(S.a.Divider,{}),Object(r.jsx)(S.a.Item,{children:Object(r.jsx)(x.b,{to:"/MyEvents",children:"My Events"})},"3")]});return Object(r.jsx)("div",{children:Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"EVENTS"}),Object(r.jsx)("div",{className:"buttons",children:e.uid?Object(r.jsxs)("div",{className:"signed-in-header-button",children:[Object(r.jsx)("div",{className:"signed-in-div",children:Object(r.jsx)("div",{className:"initials",children:e.name&&e.name.split(" ")[0][0]})}),Object(r.jsx)(I.a,{overlay:o,visible:a,placement:"bottomRight",children:Object(r.jsxs)("button",{className:"profile-name",onClick:function(){s(!a)},children:[e.name,Object(r.jsx)(A.a,{type:"caret-down",className:"caret-down-icon"})]})})]}):Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsxs)("div",{className:"signed-out-header-buttons",children:[Object(r.jsx)(x.b,{to:"/login",children:Object(r.jsx)("button",{type:"primary",className:"header-button signIn",children:"Sign In"})}),";"," ",Object(r.jsx)(x.b,{to:"/register",children:Object(r.jsx)("button",{className:"header-button sign-up",children:"Register"})})]})]})})]})})})),P=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){this.props.error;return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(m.a,{className:"layout-style",children:[Object(r.jsx)(F,{}),Object(r.jsx)("section",{className:"events-list",children:Object(r.jsx)(v,{})}),Object(r.jsx)("div",{className:"error-div",children:!0===this.props.error&&Object(r.jsx)(b.a,{style:{margin:"1em",width:"300px",textAlign:"center"},type:"error",message:"Something went wrong."})})]})})}}]),n}(s.Component),T=Object(h.b)((function(e){return{error:e.errorReducer}}))(P),_=n(63),M=n(37),L=n(699),U=n(87),k=(n(615),M.object().shape({email:M.string().required("Enter Your Email Address").email("Invalid Email"),password:M.string().required("Enter your password")})),V={signIn:function(e,t){return function(n,a,r){r().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){n({type:"LOGIN_SUCCESS"}),t.push("/homePage")})).catch((function(e){n({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){n({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}},signInWithGoogle:function(e){return function(t,n,a){a().login({provider:"google",type:"popup"}).then((function(e){console.log("res",e),t({type:"SIGNED_IN_WITH_GOOGLE"})})).then((function(){return e.push("/homePage")})).catch((function(e){t({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){t({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}}},G=Object(h.b)((function(e){return{authError:e.auth.authError,isEmpty:e.firebase.auth.isEmpty,error:e.errorReducer}}),V)((function(e){var t=Object(D.f)();return console.log(e),console.log("component appeared"),Object(r.jsx)("div",{children:Object(r.jsx)(_.a,{initialValues:{email:"",password:""},validationSchema:k,onSubmit:function(n){e.signIn(n,t)},children:function(t){var n=t.values,a=t.errors,s=t.touched,c=t.handleChange,i=t.handleBlur,o=t.handleSubmit;t.isSubmitting;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"login-form-container",children:[Object(r.jsxs)("form",{className:"login-form",children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(r.jsx)(L.a,{name:"email",id:"email",onChange:c,value:n.email,onBlur:i}),a.email&&s.email?Object(r.jsx)("div",{className:"Error-message",children:a.email}):null]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)(L.a.Password,{name:"password",id:"password",onChange:c,value:n.password,onBlur:i}),a.password&&s.password?Object(r.jsx)("div",{className:"Error-message",children:a.password}):null]}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsx)(U.a,{type:"primary submit",onClick:o,children:"Login"})}),Object(r.jsxs)("div",{className:"partition",children:[Object(r.jsx)("hr",{}),Object(r.jsx)("span",{className:"partition-span",children:"OR"}),Object(r.jsx)("hr",{})]})]}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsxs)("button",{className:"login-button-google",type:"submit",onClick:function(){e.signInWithGoogle(e.history)},children:[Object(r.jsx)(A.a,{type:"google",className:"google-icon"}),"Login with Google"]})}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsxs)("p",{children:["Don't have an account.",Object(r.jsx)("span",{style:{color:"blue",textDecoration:"underline",margin:"1px",cursor:"pointer"},onClick:function(){e.history.push("/register")},children:"Register"})]})})]}),Object(r.jsx)("div",{className:"error-div",children:!0===e.error&&Object(r.jsx)(b.a,{style:{margin:"1em",width:"300px",textAlign:"center"},type:"error",message:"Invalid Email or Password"})})]})]})}})})})),H=(n(621),M.object().shape({name:M.string().required("Must enter your name").min(6,"too short"),contact:M.number().required("Must give number"),email:M.string().required("Must give email").email("Invalid Email"),password:M.string().required("Enter your Password").min(8,"Too short"),confirmPassword:M.string().when("password",{is:function(e){return!!(e&&e.length>0)},then:M.string().oneOf([M.ref("password")],"Both password need to be the same")})})),B=Object(h.b)((function(e){return{error:e.errorReducer}}),(function(e){return{register:function(t,n){e(function(e,t){return function(n,a,r,s){var c=r(),i=c.firestore();return c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return console.log(t,"resss"),i.collection("users").doc(t.user.uid).set({name:e.name,contact:e.contact})})).then((function(){n({type:"SIGNUP_SUCCESS"}),t.push("/homePage")})).catch((function(e){n({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){n({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}}(t,n))}}}))((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(_.a,{initialValues:{name:"",contact:"",email:"",password:"",confirmPassword:""},validationSchema:H,onSubmit:function(t){e.register(t,e.history)},children:function(t){var n=t.values,a=t.errors,s=t.touched,c=t.handleChange,i=t.handleBlur,o=t.handleSubmit;t.isSubmitting;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)("div",{className:"register-form-container",children:[Object(r.jsxs)("form",{className:"form",children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"name",children:"Name"}),Object(r.jsx)(L.a,{type:"text",placeholder:"Enter your name",id:"name",name:"name",onChange:c,value:n.name,onBlur:i}),a.name&&s.name?Object(r.jsx)("div",{className:"Error-message",children:a.name}):null]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"contact",children:"Contact"}),Object(r.jsx)(L.a,{type:"number",placeholder:"Enter contact Number",id:"contact",name:"contact",onChange:c,value:n.contact,onBlur:i}),a.contact&&s.contact?Object(r.jsx)("div",{className:"Error-message",children:a.contact}):null]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)(L.a,{type:"email",placeholder:"Enter Email Address",id:"email",name:"email",onChange:c,value:n.email,onBlur:i}),a.email&&s.email?Object(r.jsx)("div",{className:"Error-message",children:a.email}):null]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)(L.a.Password,{type:"password",placeholder:"Enter your password",id:"password",name:"password",onChange:c,value:n.password,onBlur:i}),a.password&&s.password?Object(r.jsx)("div",{className:"Error-message",children:a.password}):null]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(r.jsx)(L.a.Password,{type:"password",placeholder:"Enter the confirmed password",id:"confirmPassword",name:"confirmPassword",onChange:c,value:n.confirmPassword,onBlur:i}),a.confirmPassword?Object(r.jsx)("div",{className:"Error-message",children:a.confirmPassword}):null]}),Object(r.jsx)("div",{className:"form-field Button",children:Object(r.jsx)(U.a,{type:"primary",onClick:o,className:"register-button",children:"Submit"})}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsxs)("p",{children:["Already have an account."," ",Object(r.jsx)("span",{style:{color:"blue",textDecoration:"underline",margin:"1px",cursor:"pointer"},onClick:function(){e.history.push("/login")},children:"Sign In"})]})})]}),Object(r.jsx)("div",{className:"error-div",children:!0===e.error&&Object(r.jsx)(b.a,{style:{margin:"1em",width:"300px",textAlign:"center"},type:"error",message:"Something went wrong"})})]})]})}})})})),z=n(698),W=(n(333),n(176)),q=n.n(W),J=(n(625),Object(h.b)((function(e){return{fetchedValues:e.updateEvent[0]}}))((function(e,t){var n=e.setFieldValue,s=(e.placesField,c.a.useState("")),i=Object(f.a)(s,2),o=i[0],l=i[1],d=c.a.useState({lat:null,lng:null}),j=Object(f.a)(d,2),u=(j[0],j[1]),m=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Object(W.geocodeByAddress)(t);case 3:return a=e.sent,e.next=6,Object(W.getLatLng)(a[0]);case 6:r=e.sent,l(t),u(r),console.log(r),n("places",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{children:Object(r.jsx)(q.a,{value:o,onChange:function(e){l(e)},onSelect:m,children:function(e){var t=e.getInputProps,n=e.suggestions,s=e.getSuggestionItemProps,c=e.loading;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L.a,Object(a.a)({style:{height:"32px"}},t({placeholder:"Type your address"}))),Object(r.jsx)("div",{children:c?Object(r.jsx)("div",{children:"...loading"}):null}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer",padding:"5px",borderBottom:"1px solid #d9d9d9",borderLeft:"1px solid #d9d9d9",borderRight:"1px solid #d9d9d9"}:{backgroundColor:"#ffffff",cursor:"pointer",padding:"5px",borderBottom:"1px solid #d9d9d9",borderLeft:"1px solid #d9d9d9",borderRight:"1px solid #d9d9d9"};return Object(r.jsx)("div",Object(a.a)(Object(a.a)({},s(e,{className:t,style:n})),{},{children:Object(r.jsx)("span",{children:e.description})}))}))]})}})})}))),X={createEvent:function(e){return function(t,n,r){t({type:"LOADING",payload:!0}),w.a.firestore().collection("Events").add(Object(a.a)({},e)).then((function(){t({type:"CREATE_EVENT",event:e}),t({type:"LOADING",payload:!1})})).catch((function(e){t({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){t({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}},uploadImage:C},K=Object(h.b)((function(e){return{url:e.imageUpload.url,creatorId:e.firebase.auth.uid,imageUpload:e.imageUpload,fetchedValues:e.updateEvent,loading:e.loadingReducer,error:e.errorReducer}}),X)((function(e){var t;console.log(e,"props");var n=function(e){console.log(e.fileList),t=e.fileList};return Object(r.jsx)(_.a,{initialValues:{name:"",maxMembers:"",description:"",price:"",contactNumber:"",places:""},onSubmit:function(){var n=Object(N.a)(y.a.mark((function n(r){var s;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.uploadImage(t,r.name);case 2:s=n.sent,e.createEvent(Object(a.a)(Object(a.a)({},r),{},{creator:e.creatorId,images:s})),e.history.push("/homePage");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:function(t){var a=t.values,s=(t.errors,t.handleChange),c=t.handleSubmit,i=(t.isSubmitting,t.setFieldValue);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F,{}),Object(r.jsxs)("div",{className:"form-container",children:[Object(r.jsxs)("form",{className:"form",onSubmit:c,children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"eventName",children:"Event Name"}),Object(r.jsx)(L.a,{type:"text",placeholder:"Event name",id:"name",name:"name",onChange:s,value:a.name})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"maxMembers",children:"Maxium Members"}),Object(r.jsx)(L.a,{type:"number",id:"maxMembers",name:"maxMembers",onChange:s,value:a.maxMembers})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"description",children:"Event Description"}),Object(r.jsx)(L.a.TextArea,{placeholder:"Describe your event....",type:"text",id:"description",name:"description",autoSize:{minRows:1,maxRows:7},onChange:s,value:a.description})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"price",children:"Price per ticket"}),Object(r.jsx)(L.a,{type:"number",id:"price",name:"price",onChange:s,value:a.price})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"contactNumber",children:"Contact Number"}),Object(r.jsx)(L.a,{type:"number",id:"contactNumber",name:"contactNumber",onChange:s,value:a.contactNumber})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{children:"Venue"}),Object(r.jsx)(J,{setFieldValue:i})]}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsx)(z.a,{onChange:n,multiple:!0,children:Object(r.jsxs)(U.a,{children:[Object(r.jsx)(A.a,{type:"upload"})," Upload"]})})}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsxs)("button",{className:"create-event-button",onClick:c,type:"submit",children:["Create Event",!0===e.loading&&Object(r.jsx)(A.a,{type:"loading",style:{color:"white",margin:"3px"}})]})})]}),Object(r.jsx)("div",{className:"error-div",children:!0===e.error&&Object(r.jsx)(b.a,{style:{margin:"1em",width:"300px",textAlign:"center"},type:"error",message:"Something went wrong"})})]})]})}})})),Y=(n(627),{deleteEvent:function(e){return function(t,n,a){w.a.firestore().collection("Events").doc(e.id).delete().then((function(e){t({type:"DELETED"})})).catch((function(e){t({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){t({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}},fetchValues:function(e,t){return function(n){return new Promise((function(a,r){try{var s=t.filter((function(t){return t.id===e}));if(s.length>0)return n({type:"FETCHED_VALUES",payload:s}),a(s)}catch(c){return a(!1)}}))}}}),Q=Object(h.b)((function(e){return{events:e.firestore.ordered.Events,user:e.firebase.auth.uid,error:e.errorReducer}}),Y)((function(e){var t,n=Object(D.f)();return Object(O.useFirestoreConnect)([{collection:"Events"}]),console.log(e.events,"events"),t=e.events?e.events.filter((function(t){return t.creator===e.user})):null,Object(r.jsxs)("div",{className:"my-events",children:[Object(r.jsx)(F,{}),Object(r.jsxs)("div",{className:"my-events-container",children:[Object(r.jsx)("div",{className:"heading",children:Object(r.jsx)("h1",{className:"my-events-heading",children:"My Events"})}),Object(r.jsx)("div",{className:"my-events-list",children:t&&t.map((function(t){return Object(r.jsxs)(p.a,{className:"ant-card",style:{margin:"1em"},children:[Object(r.jsx)("img",{src:t.images[0],alt:"img",className:"event-img"}),Object(r.jsxs)("div",{className:"details",children:[Object(r.jsx)("h1",{className:"event-heading",children:t.name}),Object(r.jsx)("p",{className:"my-events-description",children:t.description}),Object(r.jsxs)("div",{className:"my-events-buttons",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("button",{className:"view-more-button",onClick:function(){return e.history.push("event/".concat(t.id))},children:[" ","View More"]})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){return e.deleteEvent(t)},className:"delete-button",children:"Delete Event"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"edit-button",onClick:function(){e.fetchValues(t.id,e.events).then((function(e){return n.push("/editForm")}))},children:"Edit"})}),Object(r.jsxs)("div",{className:"delete-edit-icons",children:[Object(r.jsx)(A.a,{type:"delete",className:"delete",onClick:function(){return e.deleteEvent(t)}}),Object(r.jsx)(A.a,{type:"edit",className:"edit",onClick:function(){e.fetchValues(t.id,e.events).then((function(e){return n.push("/editForm")}))}})]})]})]})]},t.id)}))}),Object(r.jsx)("div",{className:"error-div",children:!0===e.error&&Object(r.jsx)(b.a,{style:{margin:"1em",width:"300px",textAlign:"center"},type:"error",message:"Something went wrong",className:"error-alert"})})]})]})})),Z=n(696),$=n(365),ee=n.n($),te=function(e){var t=e.latitude,n=e.longitude,a=[t,n],s=function(){return Object(r.jsx)(A.a,{type:"environment",style:{color:"red",fontSize:"40px"}})};return Object(r.jsx)("div",{children:Object(r.jsx)("div",{style:{height:"400px",width:"50%",margin:"1em"},children:Object(r.jsx)(ee.a,{bootstrapURLKeys:{key:"AIzaSyBmVNjj2wxiLjkFbbXfiuaH36kFJttvVhs"},defaultCenter:a,defaultZoom:11,children:Object(r.jsx)(s,{lat:t,lng:n,text:"My Marker"})})})})},ne=(n(647),Object(h.b)((function(e,t){var n=e.firestore.ordered.Events,a=t.match.params.id;return{event:n?n.filter((function(e){return e.id===a}))[0]:"loading"}}))((function(e){var t=c.a.useState(!1),n=Object(f.a)(t,2),a=n[0],s=n[1];return Object(O.useFirestoreConnect)([{collection:"Events"}]),console.log(e.event.images),Object(r.jsxs)("div",{className:"detailPage",children:[Object(r.jsx)(F,{}),Object(r.jsx)("div",{className:"event-detail-div",children:Object(r.jsxs)("div",{className:"img-name",children:[Object(r.jsx)(Z.a,{autoplay:!0,children:e.event.images&&e.event.images.map((function(e){return Object(r.jsx)("img",{src:e,alt:"img",className:"event-detail-img"})}))}),Object(r.jsxs)("div",{className:"event-details-div",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{className:"event-name-heading ",children:e.event.name})}),Object(r.jsxs)("div",{className:"detail-field",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:Object(r.jsx)(A.a,{type:"phone",className:"event-detail-icon"})}),Object(r.jsx)("span",{style:{fontSize:"18px",color:"#637d96"},children:"Contact:"})]}),Object(r.jsx)("span",{className:"event-span",children:e.event.contactNumber})]}),Object(r.jsxs)("div",{className:"detail-field",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:Object(r.jsx)(A.a,{type:"user",className:"event-detail-icon"})}),Object(r.jsx)("span",{style:{fontSize:"18px",color:"#637d96"},children:"Maximum Members:"})]}),Object(r.jsx)("span",{className:"event-span",children:e.event.maxMembers})]}),Object(r.jsxs)("div",{className:"detail-field",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[" ",Object(r.jsx)(A.a,{type:"tag",className:"event-detail-icon"})]}),Object(r.jsx)("span",{style:{fontSize:"18px",color:"#637d96"},children:"Ticket:"})]}),Object(r.jsx)("span",{className:"event-span",children:"".concat(e.event.price," Rs")})]}),Object(r.jsx)("div",{className:"event-description-div",children:Object(r.jsx)("p",{className:"event-description",children:e.event.description})}),Object(r.jsx)("div",{className:"show-map-div",children:Object(r.jsx)("button",{onClick:function(){s(!a)},className:"show-map-btn",children:!1===a?"Show Map":"Hide Map"})}),Object(r.jsx)("div",{className:"map",children:e.event.places&&!0===a&&Object(r.jsx)(te,{latitude:e.event.places.lat,longitude:e.event.places.lng})})]})]})})]})}))),ae={updateValues:function(e,t,n,a,r,s,c,i){return function(o,l,d){o({type:"LOADING",payload:!0}),w.a.firestore().collection("Events").doc(e).update({name:t,description:n,price:a,maxMembers:r,contactNumber:s,places:c}).then((function(){o({type:"LOADING",payload:!1}),i.push("/MyEvents")})).catch((function(e){o({type:"ERROR_CATCHED",payload:!0}),setTimeout((function(){o({type:"ERROR_CATCHED",payload:!1})}),1e4)}))}},uploadImage:C},re=Object(h.b)((function(e){return{url:e.imageUpload.url,createrId:e.firebase.auth.uid,imageUpload:e.imageUpload,obj:e.updateEvent[0],isUpdated:e.updateEvent.isUpdated,loading:e.loadingReducer}}),ae)((function(e){var t=Object(D.f)();console.log(e,"props");var n=function(e){console.log(e.fileList),e.fileList};return Object(r.jsx)(_.a,{initialValues:{name:e.obj&&e.obj.name,maxMembers:e.obj&&e.obj.maxMembers,description:e.obj&&e.obj.description,price:e.obj&&e.obj.price,contactNumber:e.obj&&e.obj.contactNumber,places:""},onSubmit:function(n){e.updateValues(e.obj.id,n.name,n.description,n.price,n.maxMembers,n.contactNumber,n.places,t),!0===e.isUpdated&&e.history.push("/MyEvents")},children:function(e){var t=e.values,a=(e.errors,e.handleChange),s=e.handleSubmit,c=(e.isSubmitting,e.setFieldValue);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:"create-event-heading",children:"Edit Event"}),Object(r.jsx)("div",{className:"form-container",children:Object(r.jsxs)("form",{className:"form",onSubmit:s,children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"eventName",children:"Event Name"}),Object(r.jsx)(L.a,{type:"text",placeholder:"Event name",id:"name",name:"name",onChange:a,value:t.name})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"maxMembers",children:"Maxium Members"}),Object(r.jsx)(L.a,{type:"number",id:"maxMembers",name:"maxMembers",onChange:a,value:t.maxMembers})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"description",children:"Event Description"}),Object(r.jsx)(L.a.TextArea,{placeholder:"Describe your event....",type:"text",id:"description",name:"description",autoSize:!0,maxLength:1e3,onChange:a,value:t.description})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"price",children:"Price per ticket"}),Object(r.jsx)(L.a,{type:"number",id:"price",name:"price",onChange:a,value:t.price})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"contactNumber",children:"Contact Number"}),Object(r.jsx)(L.a,{type:"number",id:"contactNumber",name:"contactNumber",onChange:a,value:t.contactNumber})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{children:"Venue"}),Object(r.jsx)(J,{setFieldValue:c})]}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsx)(z.a,{onChange:n,multiple:!0,children:Object(r.jsxs)(U.a,{children:[Object(r.jsx)(A.a,{type:"upload"})," Upload"]})})}),Object(r.jsx)("div",{className:"form-field",children:Object(r.jsx)("button",{className:"create-event-button",onClick:s,type:"submit",children:"Save"})})]})})]})}})})),se=(n(658),function(){return Object(r.jsxs)("div",{className:"landing-page",children:[Object(r.jsx)("p",{className:"landing-page-heading",children:"Events"}),Object(r.jsx)(x.b,{to:"/homePage",children:Object(r.jsxs)("button",{className:"landing-page-button",children:["Get Started ",Object(r.jsx)(A.a,{type:"arrow-right",className:"landing-page-icon"})]})})]})}),ce=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsx)(x.a,{basename:".",children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(D.c,{children:[Object(r.jsx)(D.a,{exact:!0,path:"/",component:se}),Object(r.jsx)(D.a,{exact:!0,path:"/homePage",component:T}),Object(r.jsx)(D.a,{path:"/login",component:G}),Object(r.jsx)(D.a,{path:"/register",component:B}),Object(r.jsx)(D.a,{path:"/createEvent",component:K}),Object(r.jsx)(D.a,{path:"/MyEvents",component:Q}),Object(r.jsx)(D.a,{path:"/event/:id",component:ne}),Object(r.jsx)(D.a,{path:"/editForm",component:re})]})})})}}]),n}(s.Component),ie=n(64);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=n(170),le=n(174),de=[],je={authError:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login Error"),Object(a.a)({},e);case"LOGIN_SUCCESS":return console.log("success"),Object(a.a)({},e);case"SIGNOUT_SUCCESS":return console.log("signout success"),Object(a.a)({},e);case"SIGNUP_SUCCESS":return console.log("signup success"),Object(a.a)(Object(a.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup fail"),Object(a.a)(Object(a.a)({},e),{},{authError:t.err.message});case"SIGNED_IN_WITH_GOOGLE":return Object(a.a)(Object(a.a)({},e),{},{authError:null});default:return e}},me=[],be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_COMPLETE":return[].concat(Object(le.a)(e),[t.payload]);case"PROGRESS":default:return e}},he={fetchedValues:[],isUpdated:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_VALUES":return t.payload;case"UPDATED":return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!0});default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return t.payload;default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_CATCHED":return t.payload;default:return e}},ve=Object(ie.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_EVENT":return[].concat(Object(le.a)(e),[t.event]);case"ERROR":case"DELETED":case"NOT_DELETED":default:return e}},firestore:oe.firestoreReducer,firebase:O.firebaseReducer,auth:ue,imageUpload:be,updateEvent:pe,loadingReducer:Oe,errorReducer:xe}),fe=n(366);n(688),n(691),n(694);w.a.initializeApp({apiKey:"AIzaSyCy_0S_rsb8MQJRuEAUwB-YME-4Nl6nEFw",authDomain:"event-management-app-9f3ab.firebaseapp.com",databaseURL:"https://event-management-app-9f3ab.firebaseio.com",projectId:"event-management-app-9f3ab",storageBucket:"event-management-app-9f3ab.appspot.com",messagingSenderId:"976750584787",appId:"1:976750584787:web:4a33fc4aa2bd6b34dec526"}),w.a.firestore();var ge=w.a,ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,Ne=Object(ie.e)(ve,{},ye(Object(ie.a)(fe.a.withExtraArgument(O.getFirebase)))),Ee={firebase:ge,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:Ne.dispatch,createFirestoreInstance:oe.createFirestoreInstance};o.a.render(Object(r.jsx)(h.a,{store:Ne,children:Object(r.jsx)(O.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},Ee),{},{children:Object(r.jsx)(ce,{})}))}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[693,1,2]]]);
//# sourceMappingURL=main.ca4adfcf.chunk.js.map